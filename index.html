<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PFA Awareness - Home</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /*
         * You can add this CSS to your style.css file for consistency
         * across your entire website.
         */
        .card {
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .infographic {
            width: 80px;
            height: 80px;
            margin-bottom: 15px;
        }

        .infographic svg {
            width: 100%;
            height: 100%;
        }

        .counter {
            font-size: 2.5rem;
            font-weight: bold;
            color: #333;
        }
    </style>
</head>
<body>
    <!-- Top Bar --> 
    <header class="topbar">
    <button class="menu-button" onclick="toggleMenu()">☰</button>
    <img src="images/logo.jpg" alt="PFA Logo" class="top-logo">
    <h1>PFA Thapar</h1>
    </header>

    <!-- Sidebar -->
    <nav id="sidebar">
    <a href="index.html">Home</a>
    <a href="about.html">About Us</a>
    <a href="team.html">Our Team</a>
    <a href="donation.html">Contribute</a>
    <a href="gallery.html">Gallery</a>
    </nav>

    <!-- Overlay (clicks close the menu) -->
    <div id="overlay" onclick="toggleMenu()"></div>

    <!-- External JS -->
    <script src="js/script.js"></script>


    <main class="page-content">
        <header class="hero">
            <h2>Welcome to People For Animals Awareness</h2>
            <p>Learn about our work, sterilizations, and vaccinations.</p>
        </header>

        <section class="stats">
            <div class="card">
                <div class="infographic vaccine">
                    <svg viewBox="0 0 56 56">
                        <circle cx="28" cy="28" r="24" fill="none" stroke-width="6" />
                        <rect x="24" y="14" width="8" height="20" rx="4" fill="#4fc3f7" />
                        <rect x="26" y="34" width="4" height="8" rx="2" fill="#4fc3f7" />
                    </svg>
                </div>
                <h3>Vaccinations</h3>
                <p class="counter" data-target="90%">0</p>
            </div>
            <div class="card">
                <div class="infographic sterilize">
                    <svg viewBox="0 0 56 56">
                        <circle cx="28" cy="28" r="24" fill="none" stroke-width="6" />
                        <ellipse cx="28" cy="28" rx="10" ry="18" fill="#81c784" />
                        <rect x="24" y="10" width="8" height="36" rx="4" fill="#1e1e1e" />
                    </svg>
                </div>
                <h3>Sterilizations</h3>
                <p class="counter" data-target="80%">0</p>
            </div>
            <div class="card">
                <div class="infographic dog">
                    <svg viewBox="0 0 56 56">
                        <circle cx="28" cy="28" r="24" fill="none" stroke-width="6" />
                        <ellipse cx="20" cy="24" rx="6" ry="8" fill="#ffd54f" />
                        <ellipse cx="36" cy="24" rx="6" ry="8" fill="#ffd54f" />
                        <ellipse cx="28" cy="36" rx="10" ry="8" fill="#ffd54f" />
                    </svg>
                </div>
                <h3>Dogs in Care</h3>
                <p class="counter" data-target="30">0</p>
            </div>
        </section>

        <section class="partners">
            <h2>Our Partners & Sponsors</h2>
            <div class="partners-logos" id="partnersLogos"></div>
        </section>

        <footer>
            <div class="social-links">
                <a href="https://www.instagram.com/pfa_thapar/" target="_blank" rel="noopener" aria-label="Instagram"><img src="images/social/instagram.svg" alt="Instagram"></a>
            </div>
            <p>© 2025 PFA Thapar Awareness</p>
        </footer>
    </main>

    <script>
        // Function to toggle the side menu
        function toggleMenu() {
            const sideMenu = document.getElementById("sideMenu");
            if (sideMenu.style.width === "250px") {
                sideMenu.style.width = "0";
            } else {
                sideMenu.style.width = "250px";
            }
        }

        // Function to close the side menu
        function closeMenu() {
            document.getElementById("sideMenu").style.width = "0";
        }
        
        // Counter animation using IntersectionObserver
        const counters = document.querySelectorAll('.counter');

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const counter = entry.target;
                    const targetString = counter.getAttribute('data-target');
                    const target = parseFloat(targetString);
                    const suffix = targetString.replace(target, '');

                    const updateCount = () => {
                        const count = parseFloat(counter.innerText);
                        // The increment is based on the numeric part of the target
                        const increment = Math.ceil(target / 200);

                        if (count < target) {
                            counter.innerText = (count + increment) + suffix;
                            setTimeout(updateCount, 20);
                        } else {
                            counter.innerText = target + suffix;
                        }
                    };
                    updateCount();
                    // Stop observing the counter once it has started
                    observer.unobserve(counter);
                }
            });
        }, {
            threshold: 0.5
        });

        // Observe each counter
        counters.forEach(counter => {
            observer.observe(counter);
        });

        // Partners auto-load logos from images/partners
        function loadPartners() {
            const partnersLogos = document.getElementById('partnersLogos');
            if (partnersLogos) {
                for (let i = 1; i <= 8; i++) {
                    const img = document.createElement('img');
                    img.src = `images/partners/${i}.png`;
                    img.alt = `Partner logo ${i}`;
                    img.onerror = function() { this.style.display = 'none'; };
                    partnersLogos.appendChild(img);
                }
            }
        }

        // Call the functions when the window finishes loading
        window.onload = function() {
            loadGallery();
            loadPartners();
        };
    </script>
</body>
</html>
